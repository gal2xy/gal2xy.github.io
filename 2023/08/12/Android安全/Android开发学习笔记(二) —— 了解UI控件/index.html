

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="gla2xy">
  <meta name="keywords" content="">
  
    <meta name="description" content="一、前言Android的UI开发一般采用XML代码编写和可视化编辑器（更方便）。这一部分就好比是html+css+js三剑客。 二、控件2.1 TextView文本框 基本属性   属性 说明    layout_width 设置控件的宽度，常用的有”wrap_content”(根据控件内容适配)、”match_parent”(与父容器同宽)，以及确切数字，如200dp   layout_heig">
<meta property="og:type" content="article">
<meta property="og:title" content="Android开发学习笔记(二) —— 了解UI控件">
<meta property="og:url" content="http://example.com/2023/08/12/Android%E5%AE%89%E5%85%A8/Android%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(%E4%BA%8C)%20%E2%80%94%E2%80%94%20%E4%BA%86%E8%A7%A3UI%E6%8E%A7%E4%BB%B6/index.html">
<meta property="og:site_name" content="gla2xy&#39;s blog">
<meta property="og:description" content="一、前言Android的UI开发一般采用XML代码编写和可视化编辑器（更方便）。这一部分就好比是html+css+js三剑客。 二、控件2.1 TextView文本框 基本属性   属性 说明    layout_width 设置控件的宽度，常用的有”wrap_content”(根据控件内容适配)、”match_parent”(与父容器同宽)，以及确切数字，如200dp   layout_heig">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/gal2xy/blog_img/main/img/202308131930446.jpg">
<meta property="article:published_time" content="2023-08-12T06:28:32.000Z">
<meta property="article:modified_time" content="2023-08-13T13:40:14.575Z">
<meta property="article:author" content="gla2xy">
<meta property="article:tag" content="Android开发">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://raw.githubusercontent.com/gal2xy/blog_img/main/img/202308131930446.jpg">
  
  
  
  <title>Android开发学习笔记(二) —— 了解UI控件 - gla2xy&#39;s blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  



  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>gal2xy&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Android开发学习笔记(二) —— 了解UI控件"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-08-12 14:28" pubdate>
          2023年8月12日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          47k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          393 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Android开发学习笔记(二) —— 了解UI控件</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h1><p>Android的UI开发一般采用XML代码编写和可视化编辑器（更方便）。这一部分就好比是html+css+js三剑客。</p>
<h1 id="二、控件"><a href="#二、控件" class="headerlink" title="二、控件"></a>二、控件</h1><h2 id="2-1-TextView"><a href="#2-1-TextView" class="headerlink" title="2.1 TextView"></a>2.1 TextView</h2><p>文本框</p>
<h3 id="基本属性"><a href="#基本属性" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>layout_width</td>
<td>设置控件的宽度，常用的有”wrap_content”(根据控件内容适配)、”match_parent”(与父容器同宽)，以及确切数字，如200<strong>dp</strong></td>
</tr>
<tr>
<td>layout_height</td>
<td>设置控件的高度，同上。</td>
</tr>
<tr>
<td>id</td>
<td>格式为”@+id&#x2F;xxx”用于在代码中获取该对象，比如java代码通过findViewById()方法获取</td>
</tr>
<tr>
<td>text</td>
<td>设置文字内容</td>
</tr>
<tr>
<td>textColor</td>
<td>设置文字颜色，格式可以为”#xxxxxxxx”，前两位代表颜色的透明度（00透明，FF不透明），后面代表RGB</td>
</tr>
<tr>
<td>textStyle</td>
<td>设置文字风格，如normal(无效果)，bold(加粗)，italic(斜体)</td>
</tr>
<tr>
<td>textSize</td>
<td>设置文字大小，单位<strong>sp</strong></td>
</tr>
<tr>
<td>background</td>
<td>设置控件背景颜色，”#xxxxxxxx”的格式同textColor一样，也可以是图片背景</td>
</tr>
<tr>
<td>gravity</td>
<td>设置控件中内容的对齐方向，如center、left、right、bottom、top等</td>
</tr>
<tr>
<td>autoLink</td>
<td>当文字内容出现URL，E-Mail，电话号码等，通过设置autoLink属性，可以使其成为链接，常用类别有 web、email、phone、map等</td>
</tr>
</tbody></table>
<p>其中 text、textColor、background 属性的内容在开发中并不直接在控件中写明，而是写在res\values\目录下的 colors.xml、strings.xml中，然后被控件调用。例如：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml">//在strings.xml中声明:<br><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;aaa&quot;</span>&gt;</span>我被调用了<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br>//在控件中引用:<br><span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">          <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;@String/aaa&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="跑马灯案例"><a href="#跑马灯案例" class="headerlink" title="跑马灯案例"></a>跑马灯案例</h3><p>涉及到的属性</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>singleLine</td>
<td>内容是否单行显示</td>
</tr>
<tr>
<td>focusable</td>
<td>控件是否可以获取焦点</td>
</tr>
<tr>
<td>focusableInTouchMode</td>
<td>用于控件在触摸模式下是否可以获取焦点</td>
</tr>
<tr>
<td>ellipsize</td>
<td>省略文本的模式</td>
</tr>
<tr>
<td>marqueeRepeatLimit</td>
<td>字母动画重复的次数</td>
</tr>
<tr>
<td>clickable</td>
<td>控件是否可以被点击</td>
</tr>
</tbody></table>
<p>上述属性设置如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">android:singleLine=&quot;true&quot;<br>android:ellipsize=&quot;marquee&quot;<br>android:marqueeRepeatLimit=&quot;marquee_forever&quot;<br>android:focusable=&quot;true&quot;<br></code></pre></td></tr></table></figure>

<p>实现跑马灯有以下方式：</p>
<ol>
<li><p>额外设置属性值</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">android:</span>focusableInTouchMode=<span class="hljs-string">&quot;true&quot;</span><br><span class="hljs-symbol">android:</span>clickable=<span class="hljs-string">&quot;true&quot;</span><br></code></pre></td></tr></table></figure>

<p>点击TextView后，获得焦点，开始跑马灯效果。</p>
</li>
<li><p>添加额外属型值</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">android:</span>focusableInTouchMode=<span class="hljs-string">&quot;true&quot;</span><br></code></pre></td></tr></table></figure>

<p>并且在同一个<code>LinearLayout</code>下添加</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;requestFocus/&gt;</span><br></code></pre></td></tr></table></figure>

<p>它用于请求将焦点设置到指定的元素上。</p>
</li>
<li><p>创建类继承TextView类，重写<code>isFocused</code>方法，使其永远返回<code>true</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyTextView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">TextView</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyTextView</span><span class="hljs-params">(Context context)</span> &#123;<br>        <span class="hljs-built_in">super</span>(context);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyTextView</span><span class="hljs-params">(Context context, <span class="hljs-meta">@Nullable</span> AttributeSet attrs)</span> &#123;<br>        <span class="hljs-built_in">super</span>(context, attrs);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyTextView</span><span class="hljs-params">(Context context, <span class="hljs-meta">@Nullable</span> AttributeSet attrs, <span class="hljs-type">int</span> defStyleAttr)</span> &#123;<br>        <span class="hljs-built_in">super</span>(context, attrs, defStyleAttr);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isFocused</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="2-2-Button"><a href="#2-2-Button" class="headerlink" title="2.2 Button"></a>2.2 Button</h2><p>按钮。Button继承于TextView，所以TextView上很多属性也可以应用到Button 上。</p>
<h3 id="基本属性-1"><a href="#基本属性-1" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>drawable</td>
<td>引用的Drawable位图</td>
</tr>
<tr>
<td>state_focused</td>
<td>是否获得焦点</td>
</tr>
<tr>
<td>state_window_focused</td>
<td>是否获得窗口焦点</td>
</tr>
<tr>
<td>state_enabled</td>
<td>控件是否可用</td>
</tr>
<tr>
<td>state_checkable</td>
<td>控件可否被勾选</td>
</tr>
<tr>
<td>state_checked</td>
<td>控件是否被勾选</td>
</tr>
<tr>
<td>state_selected</td>
<td>控件是否被选择,针对有滚轮的情况</td>
</tr>
<tr>
<td>state_pressed</td>
<td>控件是否被按下</td>
</tr>
<tr>
<td>state_active</td>
<td>控件是否处于活动状态</td>
</tr>
<tr>
<td>state_single</td>
<td>控件包含多个子控件时,确定是否只显示一个子控件</td>
</tr>
<tr>
<td>state_first、state_middle、state_last</td>
<td>控件包含多个子控件时,确定哪个子控件是否处于显示状态</td>
</tr>
</tbody></table>
<p>以上这些属性并不是在<code>&lt;button&gt;</code>或<code>&lt;android.widget.Button&gt;</code>下声明的，而是在<code>\res\drawable\</code>和<code>\res\color\</code>目录下创建xml文件进行声明（color这个目录自己创建，名字只能是color，因为<code>&lt;selector&gt;</code>只能在<code>animator\</code>，<code>drawable\</code>，<code>color\</code>下的xml文件中使用）。</p>
<h3 id="按钮点击转化案例"><a href="#按钮点击转化案例" class="headerlink" title="按钮点击转化案例"></a>按钮点击转化案例</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;200dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;我是按钮&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">&quot;#FF00FF00&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;32dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;@drawable/bt_image&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:backgroundTint</span>=<span class="hljs-string">&quot;@color/btn_color&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br></code></pre></td></tr></table></figure>

<p>如果使用<code>&lt;Button/&gt;</code>标签，则<code>background</code>和<code>backgroundTint</code>属性设置颜色无效！推荐使用**<code>&lt;android.widget.Button/&gt;</code>**来解决这些问题。其中<code>background</code>属性设置的<code>@drawable/bt_image</code>和<code>backgroundTint</code>属性设置的<code>@color/btn_color</code>均是自己创建的。</p>
<p>drawable&#x2F;bt_image.xml如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">selector</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">&quot;@drawable/baseline_airplanemode_active_24&quot;</span> <span class="hljs-attr">android:state_pressed</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">&quot;@drawable/baseline_airplanemode_inactive_24&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">selector</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>第一<code>&lt;item/&gt;</code>设置了<code>state_pressed=&quot;true&quot;</code>，表示Button被点击的状态对应的图案，那么显然第二个<code>&lt;item/&gt;</code>则表示的是没有被点击状态下的图案。至于这些drawable的属性值，则是一些矢量图。</p>
<p>color&#x2F;btn_color.xml如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">selector</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:color</span>=<span class="hljs-string">&quot;@color/black&quot;</span> <span class="hljs-attr">android:state_pressed</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:color</span>=<span class="hljs-string">&quot;#FFFF0000&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">selector</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>跟<code>drawable/bt_image.xml</code>的解释类似，不过颜色设置的是图标的。</p>
<h3 id="Button的事件处理"><a href="#Button的事件处理" class="headerlink" title="Button的事件处理"></a>Button的事件处理</h3><p>点击事件、长按事件、触摸事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Button</span> <span class="hljs-variable">btn1</span> <span class="hljs-operator">=</span> findViewById(R.id.btn1);<br><br><span class="hljs-comment">//点击事件</span><br>btn1.setOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>        Log.d(TAG, <span class="hljs-string">&quot;onClick: &quot;</span>);;<br>    &#125;<br>&#125;);<br><span class="hljs-comment">//长按事件</span><br>btn1.setOnLongClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnLongClickListener() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onLongClick</span><span class="hljs-params">(View view)</span> &#123;<br>        Log.d(TAG, <span class="hljs-string">&quot;onLongClick: &quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;);<br><span class="hljs-comment">//触摸事件</span><br>btn1.setOnTouchListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnTouchListener() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouch</span><span class="hljs-params">(View view, MotionEvent motionEvent)</span> &#123;<br>        Log.d(TAG, <span class="hljs-string">&quot;onTouch: &quot;</span> + motionEvent.getAction());<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>长按按钮并松开（不移动），测试结果如下</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">onTouch:</span> <span class="hljs-number">0</span>  <br><span class="hljs-symbol">onLongClick:</span> <br><span class="hljs-symbol">onTouch:</span> <span class="hljs-number">1</span><br><span class="hljs-symbol">onClick:</span> <br></code></pre></td></tr></table></figure>

<p>Touch事件触发了两次。分别是按下动作<code>ACTION_DOWN (0)</code>、松开动作<code>ACTION_UP (1)</code>。如果按住不松开并且移动，则会触发移动动作<code>ACTION_MOVE (2)</code>。</p>
<p>从上面的结果可以看出，这三个事件触发的顺序依次Touch、LongClick、Click。</p>
<p>在这些回调函数中，返回值为false表示不拦截点击事件消息（click动作在最后触发，没有返回值）。倘若将返回值修改为true，表示拦截点击事件消息，那么其他监听器就不会收到这个消息，因此也就不会执行相应回调函数。（从这三个事件的触发顺序是可以猜测出修改返回值后的触发情况）</p>
<p>onclick事件的处理函数可以在button的onClick属性处绑定。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:onClick</span>=<span class="hljs-string">&quot;dealClick&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dealClick</span><span class="hljs-params">(View view)</span> &#123;<br>    Toast.makeText(<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;可以的&quot;</span>, Toast.LENGTH_SHORT).show();<br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><p>计数器，如果长按则提示信息。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//点击事件</span><br>btn1.setOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>        Log.d(TAG, <span class="hljs-string">&quot;onClick: &quot;</span>);<br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">cnt</span> <span class="hljs-operator">=</span>  Integer.parseInt(btn1.getText().toString());<br>        cnt++;<br>        btn1.setText(cnt.toString());<br>    &#125;<br>&#125;);<br><span class="hljs-comment">//长按事件</span><br>btn1.setOnLongClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnLongClickListener() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onLongClick</span><span class="hljs-params">(View view)</span> &#123;<br>        Log.d(TAG, <span class="hljs-string">&quot;onLongClick: &quot;</span>);<br>        Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;请不要长按按钮&quot;</span>, Toast.LENGTH_SHORT).show();<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>



<h2 id="2-3-EditText"><a href="#2-3-EditText" class="headerlink" title="2.3 EditText"></a>2.3 EditText</h2><p>输入框。EditText继承与TextView。</p>
<h3 id="基本属性-2"><a href="#基本属性-2" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>hint</td>
<td>提示信息</td>
</tr>
<tr>
<td>textColorHint</td>
<td>提示文字的颜色</td>
</tr>
<tr>
<td>inputType</td>
<td>输入类型，如日期、电话、邮件等</td>
</tr>
<tr>
<td>drawableLeft, drawableRight等</td>
<td>在输入框的指定位置添加图片</td>
</tr>
<tr>
<td>drawablePadding</td>
<td>设置图片和输入内容的间距</td>
</tr>
<tr>
<td>paddingLeft, paddingRight等</td>
<td>设置内容与边框的间距</td>
</tr>
<tr>
<td>selectAllOnFocus</td>
<td>获得焦点后全选组件内所有文本内容</td>
</tr>
<tr>
<td>minLines, maxLines</td>
<td>设置最小、最大的行数，当输入内容超过最大行数，文字会自动向上滚动</td>
</tr>
</tbody></table>
<h3 id="登录案例"><a href="#登录案例" class="headerlink" title="登录案例"></a>登录案例</h3><p>xml的声明如下，声明了账号框、密码框、登录按钮。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">&quot;http://schemas.android.com/tools&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">EditText</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/zhanghao&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;200dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:inputType</span>=<span class="hljs-string">&quot;text&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:hint</span>=<span class="hljs-string">&quot;请输入用户名&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textColorHint</span>=<span class="hljs-string">&quot;#89827f&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:drawableLeft</span>=<span class="hljs-string">&quot;@drawable/baseline_account_box_24&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:drawablePadding</span>=<span class="hljs-string">&quot;20dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:padding</span>=<span class="hljs-string">&quot;20dp&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">EditText</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/mima&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;200dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:inputType</span>=<span class="hljs-string">&quot;textPassword&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:hint</span>=<span class="hljs-string">&quot;请输入密码&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textColorHint</span>=<span class="hljs-string">&quot;#89827f&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:drawableLeft</span>=<span class="hljs-string">&quot;@drawable/baseline_password_24&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:drawablePadding</span>=<span class="hljs-string">&quot;20dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:padding</span>=<span class="hljs-string">&quot;20dp&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;50dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btn&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;登录&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>按钮设置click监听，然后获取账号密码，对比从而进行不同操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>    setContentView(R.layout.activity_main);<br>    <span class="hljs-type">Button</span> <span class="hljs-variable">btn</span> <span class="hljs-operator">=</span> findViewById(R.id.btn);<br>    <span class="hljs-type">EditText</span> <span class="hljs-variable">account</span> <span class="hljs-operator">=</span> findViewById(R.id.zhanghao);<br>    <span class="hljs-type">EditText</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> findViewById(R.id.mima);<br><br>    btn.setOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() &#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">ac</span> <span class="hljs-operator">=</span> account.getText().toString();<br>            <span class="hljs-type">String</span> <span class="hljs-variable">pwd</span> <span class="hljs-operator">=</span> password.getText().toString();<br>            <span class="hljs-keyword">if</span> (ac.equals(<span class="hljs-string">&quot;admin&quot;</span>) &amp;&amp; pwd.equals(<span class="hljs-string">&quot;123456&quot;</span>))&#123;<br>                Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;管理员，欢迎你&quot;</span>, Toast.LENGTH_SHORT).show();<br>            &#125;<br>            <span class="hljs-keyword">else</span> &#123;<br>                Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;账号或密码错误&quot;</span>, Toast.LENGTH_SHORT).show();<br>                account.setText(<span class="hljs-string">&quot;&quot;</span>);<br>                password.setText(<span class="hljs-string">&quot;&quot;</span>);<br>            &#125;<br>        &#125;<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-4-ImageView"><a href="#2-4-ImageView" class="headerlink" title="2.4 ImageView"></a>2.4 ImageView</h2><p>图片视图。</p>
<h3 id="基本属性-3"><a href="#基本属性-3" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>src</td>
<td>设置图片资源</td>
</tr>
<tr>
<td>scaleType</td>
<td>设置图片缩放类型，如fitStart, fitCenter, fitEnd（等比缩放，位置放置不同）等</td>
</tr>
<tr>
<td>maxHeight</td>
<td>最大高度</td>
</tr>
<tr>
<td>maxWidth</td>
<td>最大宽度</td>
</tr>
<tr>
<td>adjustViewBounds</td>
<td>调整View的界限</td>
</tr>
</tbody></table>
<p>maxHeight、maxWidth需要和adjustViewBounds一起使用，等比缩放直到一边达到最大值。</p>
<h2 id="2-5-RadioButton"><a href="#2-5-RadioButton" class="headerlink" title="2.5 RadioButton"></a>2.5 RadioButton</h2><p>单选框。需要创建<code>&lt;RadioGroup&gt;</code>标签将多个<code>&lt;RadioButton&gt;</code>聚集为一组，确保一次只选择一个单选按钮。</p>
<p><strong>要为每个RadioButton添加一个id，不然单选功能会生效！</strong></p>
<h3 id="基本属性-4"><a href="#基本属性-4" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>checked</td>
<td>默认是否勾选</td>
</tr>
<tr>
<td>drawableXXX(Left, Right)</td>
<td>文字与选择框的相对位置。需要与button&#x3D;”@null”一起使用。</td>
</tr>
<tr>
<td>paddingXxx</td>
<td>文字与选择框的距离</td>
</tr>
<tr>
<td>button</td>
<td>设置为@null表示不使用默认的选择框</td>
</tr>
</tbody></table>
<h3 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h3><p>性别选择，通过提交按钮显示你选择的性别或者在改变时提示选择的性别。</p>
<p>xml配置如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;请选择你的性别:&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;24dp&quot;</span>/&gt;</span><br><br>   <span class="hljs-tag">&lt;<span class="hljs-name">RadioGroup</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/radiogroup&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">       &gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">RadioButton</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/rbtnman&quot;</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;man&quot;</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;24dp&quot;</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:checked</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">RadioButton</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/rbtnwoman&quot;</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;woman&quot;</span></span><br><span class="hljs-tag">           <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;24dp&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">RadioGroup</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btnpost&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;50dp&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;提交&quot;</span></span><br><span class="hljs-tag">       /&gt;</span><br></code></pre></td></tr></table></figure>

<p>MainActivity如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span>&#123;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_main);<br><br>        <span class="hljs-comment">//方法一：为RadioGroup设置一个事件监听器setOnCheckChangeListener</span><br>        <span class="hljs-comment">//改动的时候会弹出提示</span><br><span class="hljs-comment">//        RadioGroup rg = findViewById(R.id.radiogroup);</span><br><span class="hljs-comment">//        rg.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() &#123;</span><br><span class="hljs-comment">//            @Override</span><br><span class="hljs-comment">//            public void onCheckedChanged(RadioGroup radioGroup, int i) &#123;</span><br><span class="hljs-comment">//                RadioButton rbtn = findViewById(i);</span><br><span class="hljs-comment">//                Toast.makeText(MainActivity.this, &quot;你选者了&quot; + rbtn.getText().toString(), Toast.LENGTH_SHORT).show();</span><br><span class="hljs-comment">//            &#125;</span><br><span class="hljs-comment">//        &#125;);</span><br>        <span class="hljs-comment">//方法二：通过单击其他按钮获取选中单选按钮的值</span><br>        <span class="hljs-type">RadioGroup</span> <span class="hljs-variable">rg</span> <span class="hljs-operator">=</span> findViewById(R.id.radiogroup);<br>        <span class="hljs-type">Button</span> <span class="hljs-variable">btnpost</span> <span class="hljs-operator">=</span> findViewById(R.id.btnpost);<br>        btnpost.setOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i&lt;rg.getChildCount(); i++)&#123;<br>                    <span class="hljs-type">RadioButton</span> <span class="hljs-variable">childbtn</span> <span class="hljs-operator">=</span> (RadioButton) rg.getChildAt(i);<br>                    <span class="hljs-keyword">if</span> (childbtn.isChecked())&#123;<br>                        Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;你选者了&quot;</span> + childbtn.getText().toString(), Toast.LENGTH_SHORT).show();<br>                    &#125;<br><br>                &#125;<br>            &#125;<br>        &#125;);<br><br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>方法一是通过给RadioGroup设置CheckedChange监听，直接获取被选择的RadioButton的id，通过id找到该控件。</p>
<p>方法二是通过给按钮设置Click监听，遍历RadioGroup下的RadioButton，查看RadioButton是否被选择。</p>
<h2 id="2-6-CheckBox"><a href="#2-6-CheckBox" class="headerlink" title="2.6 CheckBox"></a>2.6 CheckBox</h2><p>复选框。对于每一个复选框，使用<code>&lt;CheckBox&gt;</code>单独创建即可。</p>
<h3 id="基本属性-5"><a href="#基本属性-5" class="headerlink" title="基本属性"></a>基本属性</h3><p>属性同RadioButton。</p>
<h3 id="案例-2"><a href="#案例-2" class="headerlink" title="案例"></a>案例</h3><p>同RadioButton。</p>
<p>一种方法是给所有CheckBox设置CheckedChanged监听，使用isChecked()方法判断是否被选中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCheckedChanged</span><span class="hljs-params">(CompoundButton compoundButton, <span class="hljs-type">boolean</span> b)</span> &#123;<br>    <span class="hljs-keyword">if</span>(compoundButton.isChecked()) <br>        Toast.makeText(<span class="hljs-built_in">this</span>,compoundButton.getText().toString(),Toast.LENGTH_SHORT).show();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>另一种方法是给提交按钮设置click监听，然后遍历所有CheckBox，使用<code>isChecked()</code>方法判断是否被选中。由于CheckBox是独立存在的，并不像RadioButton一样有父标签RadioGroup，所以不能直接使用for循环判断。</p>
<h2 id="2-7-ProgressBar"><a href="#2-7-ProgressBar" class="headerlink" title="2.7 ProgressBar"></a>2.7 ProgressBar</h2><p>进度条。</p>
<h3 id="基本属性-6"><a href="#基本属性-6" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>max</td>
<td>进度条最大值</td>
</tr>
<tr>
<td>progress</td>
<td>进度条已经完成进度值</td>
</tr>
<tr>
<td>indeterminate</td>
<td>如果设置成true，则进度条不精确显示进度</td>
</tr>
<tr>
<td>progressDrawable</td>
<td>设置轨道对应的Drawable对象</td>
</tr>
<tr>
<td>secondaryProgress</td>
<td>二级进度条，类似于视频播放的一条是当前播放进度，一条是缓冲进度，前者通过progress属性进行设置</td>
</tr>
<tr>
<td>style</td>
<td>进度条样式</td>
</tr>
</tbody></table>
<h3 id="案例-3"><a href="#案例-3" class="headerlink" title="案例"></a>案例</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--系统提供的圆形进度条--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ProgressBar</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br><span class="hljs-comment">&lt;!--系统提供的水平进度条--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ProgressBar</span></span><br><span class="hljs-tag">    <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;?android:attr/progressBarStyleHorizontal&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;300dp&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">	/&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">ProgressBar</span></span><br><span class="hljs-tag">    <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;?android:attr/progressBarStyleHorizontal&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;300dp&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:indeterminate</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br></code></pre></td></tr></table></figure>

<p>其中条形进度条设置indeterminate为true后，和圆形进度条类似，在不断地流动。</p>
<p>由于系统提供的比较简陋，在开发中一般都用动画（Animation）来代替或者自定义进度条（继承ProgressBar或者view）。</p>
<h2 id="2-8-Notification"><a href="#2-8-Notification" class="headerlink" title="2.8 Notification"></a>2.8 Notification</h2><p>状态栏通知。</p>
<p>要想实现通知，需要获得两个对象：</p>
<ul>
<li><p>NotificationMannager</p>
<p>NotificationManager类是一个通知管理器类，这个对象是由系统维护的服务，是以单例模式的方式获得，所以一般并不直接实例化这个对象。在Activity中，可以使用<code>Activity.getSystemService(String)</code>方法获取NotificationManager对象，这里传递<code>Context.NOTIFICATION_SERVICE</code>即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">NotificationManager</span> <span class="hljs-variable">notification_manager</span> <span class="hljs-operator">=</span> (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);<br></code></pre></td></tr></table></figure>
</li>
<li><p>Notification</p>
<p>使用NotificationCompat类的Builder构造器来创建Notification对象，可以保证程序在所有的版本上都能正常工作。Android8.0新增了<strong>通知渠道</strong>这个概念，如果没有设置，则通知无法在Android8.0的机<br>器上显示。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//创建builder对象</span><br>NotificationCompat.<span class="hljs-type">Builder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NotificationCompat</span>.Builder(<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;nid001&quot;</span>);<br><span class="hljs-comment">//builder的成员设置，如setContentTitle(&quot;xxx&quot;)等</span><br>......<br><span class="hljs-comment">//创建notification对象</span><br><span class="hljs-type">Notification</span> <span class="hljs-variable">notification</span> <span class="hljs-operator">=</span> builder.build();<br></code></pre></td></tr></table></figure>

<p>由于<strong>通知渠道</strong>的引进，我们要创建通知渠道并与通知管理服务绑定</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">//Android 8.0引入了通知渠道，所以根据版本选择是否创建通知渠道</span><br><span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)&#123;<br>    <span class="hljs-comment">/* @param id: 表示通知渠道id，即下方创建notification时的channelid，两者要一至</span><br><span class="hljs-comment">    *  @param name: 任意</span><br><span class="hljs-comment">    *  @param importance: 通知重要性</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-comment">//创建通知渠道对象</span><br>    <span class="hljs-type">NotificationChannel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NotificationChannel</span>(<span class="hljs-string">&quot;nid001&quot;</span>,<span class="hljs-string">&quot;测试通知&quot;</span>, NotificationManager.IMPORTANCE_HIGH);<br>    <span class="hljs-comment">//通知渠道对象与通知管理服务对象绑定</span><br>    notification_manager.createNotificationChannel(channel);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>需要注意的是Builder创建时的参数id和Channel创建时的参数id要一致</strong>。</p>
<p>NotificationChannel的Importance参数如下：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>IMPORTANCE_NONE</td>
<td>关闭通知</td>
</tr>
<tr>
<td>IMPORTANCE_MIN</td>
<td>开启通知，不会弹出，但没有提示音，状态栏中无显示</td>
</tr>
<tr>
<td>IMPGRTANCE_LOW</td>
<td>开启通知，不会弹出，不发出提示音，状态栏中显示</td>
</tr>
<tr>
<td>IMPORTANCE_DEFAULT</td>
<td>开启通知，不会弹出，发出提示音，状态栏中显示</td>
</tr>
<tr>
<td>IMPORTANCE_HIGH</td>
<td>开启通知，会弹出，发出提示音，状态栏中显示</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="NotificationCompat-Builder的基本方法"><a href="#NotificationCompat-Builder的基本方法" class="headerlink" title="NotificationCompat.Builder的基本方法"></a>NotificationCompat.Builder的基本方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>setContentTitle(String string)</td>
<td>设置标题</td>
</tr>
<tr>
<td>setContentText(String string)</td>
<td>设置文本内容</td>
</tr>
<tr>
<td>setSmallIcon(int icon)</td>
<td>设置小图标，只是用alpha图层，即图标不能带颜色</td>
</tr>
<tr>
<td>setLargeIcon(int argb)</td>
<td>设置小图标颜色</td>
</tr>
<tr>
<td>setContentIntent(PendingIntent intent)</td>
<td>设置点击通知后的跳转意图</td>
</tr>
<tr>
<td>setAutoCancel(boolean bool)</td>
<td>设置点击通知后自动清除通知</td>
</tr>
<tr>
<td>setWhen(long when)</td>
<td>设置通知的创建事件</td>
</tr>
</tbody></table>
<p>其中前三个方法是必须的，否则程序无法正常工作。</p>
<h3 id="案例-4"><a href="#案例-4" class="headerlink" title="案例"></a>案例</h3><p>通过按钮创建和清楚通知，并且点击通知会跳转到另一个页面(activity)。</p>
<p>xml声明如下。通过onClick属性绑定点击事件处理方法。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;165dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:onClick</span>=<span class="hljs-string">&quot;sentNotification&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;发送通知&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;165dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:onClick</span>=<span class="hljs-string">&quot;cacelNotification&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;取消通知&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure>

<p>MainActivity方法如下。获取通知管理服务(NotificationManager)，创建通信渠道(channel)并与通知管理服务绑定。创建PendingIntent设置跳转意图。创建Notification对象，最后实现点击事件处理方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">private</span> NotificationManager notification_manager;<br>    <span class="hljs-keyword">private</span> Notification notification;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_main);<br>        <span class="hljs-comment">//获取通知管理服务</span><br>        notification_manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);<br>        <span class="hljs-comment">//Android 8.0引入了通知渠道，所以根据版本选择是否创建通知渠道</span><br>        <span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)&#123;<br>            <span class="hljs-comment">/* @param id: 表示通知渠道id，即下方创建notification时的channelid，两者要一至</span><br><span class="hljs-comment">            *  @param name: 任意</span><br><span class="hljs-comment">            *  @param importance: 通知重要性</span><br><span class="hljs-comment">            */</span><br>            <span class="hljs-comment">//创建通知渠道对象</span><br>            <span class="hljs-type">NotificationChannel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NotificationChannel</span>(<span class="hljs-string">&quot;nid001&quot;</span>,<span class="hljs-string">&quot;测试通知&quot;</span>,<br>                    NotificationManager.IMPORTANCE_HIGH);<br>            <span class="hljs-comment">//通知渠道对象与通知管理服务对象绑定</span><br>            notification_manager.createNotificationChannel(channel);<br>        &#125;<br><br>        <span class="hljs-comment">//创建Intent</span><br>        <span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>, NotificationActivity.class);<br><br>        <span class="hljs-comment">//创建PendingIntent</span><br>        <span class="hljs-type">PendingIntent</span> <span class="hljs-variable">pendingIntent</span> <span class="hljs-operator">=</span>  PendingIntent.getActivity(<span class="hljs-built_in">this</span>, <span class="hljs-number">0</span>, intent, PendingIntent.FLAG_IMMUTABLE);<br><br>        <span class="hljs-comment">//创建notification对象并设置基本属性</span><br>        notification = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NotificationCompat</span>.Builder(<span class="hljs-built_in">this</span>,<span class="hljs-string">&quot;nid001&quot;</span>)<br>                .setContentTitle(<span class="hljs-string">&quot;叶华&quot;</span>)<br>                .setContentText(<span class="hljs-string">&quot;喂喂喂&quot;</span>)<br>                .setSmallIcon(R.drawable.baseline_account_box_24)<br>                .setLargeIcon(BitmapFactory.decodeResource(getResources(),R.drawable.wallhaven))<br>                .setColor(Color.parseColor(<span class="hljs-string">&quot;#FFFF0000&quot;</span>))<br>                .setContentIntent(pendingIntent)<br>                .setAutoCancel(<span class="hljs-literal">true</span>)<br>                .build();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sentNotification</span><span class="hljs-params">(View view)</span>&#123;<br>        <span class="hljs-comment">/* @param id: 任意</span><br><span class="hljs-comment">         *  @param notification: 创建好的通知</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-comment">//将创建好的通知发送出去</span><br>        notification_manager.notify(<span class="hljs-number">111</span>,notification);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cacelNotification</span><span class="hljs-params">(View view)</span>&#123;<br>        <span class="hljs-comment">//清除通知，id与notify方法的id一致</span><br>        notification_manager.cancel(<span class="hljs-number">111</span>);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>其中NotificationActivity方法如下。只是简单的在Logcat处输出信息：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//需要将该Acitivity注册到AndroidManifest.xml中，否则否则系统将不识别也不执行该Activity</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NotificationActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Activity</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        Log.d(<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;点击消息进入到了NotificatoinActivity&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="2-9-Toolbar"><a href="#2-9-Toolbar" class="headerlink" title="2.9 Toolbar"></a>2.9 Toolbar</h2><p>工具栏。</p>
<h3 id="基本属性-7"><a href="#基本属性-7" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>layout_width、layout_height</td>
<td>宽高，layout_height一般设置为“?attr&#x2F;actionBarSize”</td>
</tr>
<tr>
<td>background</td>
<td>背景色或背景图</td>
</tr>
<tr>
<td>navigationIcon</td>
<td>导航图标，比如返回图标</td>
</tr>
<tr>
<td>title</td>
<td>标题</td>
</tr>
<tr>
<td>subtitle</td>
<td>子标题</td>
</tr>
<tr>
<td>logo</td>
<td>图标</td>
</tr>
</tbody></table>
<h3 id="案例-5"><a href="#案例-5" class="headerlink" title="案例"></a>案例</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">androidx.appcompat.widget.Toolbar</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;?attr/actionBarSize&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;#00FFFF&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:title</span>=<span class="hljs-string">&quot;大标题&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:subtitle</span>=<span class="hljs-string">&quot;小标题&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:titleMarginStart</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:navigationIcon</span>=<span class="hljs-string">&quot;@drawable/baseline_arrow_back_24&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:logo</span>=<span class="hljs-string">&quot;@mipmap/ic_launcher&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br></code></pre></td></tr></table></figure>

<p>一般标题都是居中显示</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.appcompat.widget.Toolbar</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;?attr/actionBarSize&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;#00FFFF&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:navigationIcon</span>=<span class="hljs-string">&quot;@drawable/baseline_arrow_back_24&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:logo</span>=<span class="hljs-string">&quot;@mipmap/ic_launcher&quot;</span></span><br><span class="hljs-tag">        &gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;标题&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;center&quot;</span></span><br><span class="hljs-tag">            /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">androidx.appcompat.widget.Toolbar</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>在TextView中设置了标题就不要在<code>&lt;androidx.appcompat.widget.Toolbar&gt;</code>里面再设置标题了。由于是androidx里面的Toolbar，与android里面的Toolbar不同，需要注意在java代码中使用该对象时不要导错包（import androidx.appcompat.widget.Toolbar）。</p>
<h2 id="2-10-AlertDialog"><a href="#2-10-AlertDialog" class="headerlink" title="2.10 AlertDialog"></a>2.10 AlertDialog</h2><p>对话框。</p>
<h3 id="AlertDialog-Builder的基本方法"><a href="#AlertDialog-Builder的基本方法" class="headerlink" title="AlertDialog.Builder的基本方法"></a>AlertDialog.Builder的基本方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>setIcon(int iconId)</td>
<td>设置图标</td>
</tr>
<tr>
<td>setTitle(Charsequence title)</td>
<td>添加标题</td>
</tr>
<tr>
<td>setMessage(CharSequence message)</td>
<td>添加消息</td>
</tr>
<tr>
<td>setView(View view)</td>
<td>设置自定义布局</td>
</tr>
<tr>
<td>setPositiveButton</td>
<td>确定按钮</td>
</tr>
<tr>
<td>setNegativeButton</td>
<td>取消按钮</td>
</tr>
<tr>
<td>setNeutralButton</td>
<td>中间按钮</td>
</tr>
<tr>
<td>create()</td>
<td>创建对话框</td>
</tr>
<tr>
<td>show()</td>
<td>显示对话框</td>
</tr>
</tbody></table>
<h3 id="案例-6"><a href="#案例-6" class="headerlink" title="案例"></a>案例</h3><p>实现以上功能。</p>
<p>触发按钮的xml设置如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;50dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btn1&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;点击显示窗口&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:onClick</span>=<span class="hljs-string">&quot;ClickWindow&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br></code></pre></td></tr></table></figure>

<p>绑定了ClickWindow方法。</p>
<p>MainActivity方法如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">private</span> AlertDialog dialog;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_main);<br><br><span class="hljs-comment">//        View dialogview = getLayoutInflater().inflate(R.layout.dialog_view, null);</span><br><br>        <span class="hljs-comment">//创建AlertDialog.Builder对象</span><br>        AlertDialog.<span class="hljs-type">Builder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AlertDialog</span>.Builder(<span class="hljs-built_in">this</span>);<br>        <span class="hljs-comment">//设置基本属性</span><br>        dialog = builder.setIcon(R.drawable.baseline_account_box_24)<br>                .setTitle(<span class="hljs-string">&quot;我是对话框&quot;</span>)<br>                .setMessage(<span class="hljs-string">&quot;阿巴阿巴......&quot;</span>)<br>                .setPositiveButton(<span class="hljs-string">&quot;确认&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">DialogInterface</span>.OnClickListener() &#123;<br>                    <span class="hljs-meta">@Override</span><br>                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(DialogInterface dialogInterface, <span class="hljs-type">int</span> i)</span> &#123;<br>                        Log.d(<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;点击确认&quot;</span>);<br>                    &#125;<br>                &#125;)<br>                .setNegativeButton(<span class="hljs-string">&quot;取消&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">DialogInterface</span>.OnClickListener() &#123;<br>                    <span class="hljs-meta">@Override</span><br>                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(DialogInterface dialogInterface, <span class="hljs-type">int</span> i)</span> &#123;<br>                        Log.d(<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;点击取消&quot;</span>);<br>                    &#125;<br>                &#125;)<br>                .setNeutralButton(<span class="hljs-string">&quot;中立&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">DialogInterface</span>.OnClickListener() &#123;<br>                    <span class="hljs-meta">@Override</span><br>                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(DialogInterface dialogInterface, <span class="hljs-type">int</span> i)</span> &#123;<br>                        Log.d(<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;点击中立&quot;</span>);<br>                    &#125;<br>                &#125;)<br>                .setView(R.layout.dialog_view)<br>                .create();<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ClickWindow</span><span class="hljs-params">(View view)</span> &#123;<br>        dialog.show();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>显然，首先要创建的是AlertDialog.Builder对象，然后通过一系列方法设置属性。其中setView方法的参数是自己创建的一个布局的xml文件。最后实现ClickWindow方法来处理点击事件。</p>
<h2 id="2-11-PopupWindow"><a href="#2-11-PopupWindow" class="headerlink" title="2.11 PopupWindow"></a>2.11 PopupWindow</h2><p>悬浮框。</p>
<p>PopupWindow弹出后，所有的触屏和物理按键都由PopupWindows 处理。其他任何事件的响应都必须发生在PopupWindow消失之后，（home 等系统层面的事件除外）。 </p>
<h3 id="基本方法"><a href="#基本方法" class="headerlink" title="基本方法"></a>基本方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>PopupWindow(View contentView, int width, int height, boolean focusable)</td>
<td>多个构造方法，这里拿一个来说明。参数contentView指PopupWindow的布局，参数width和height一般设置ViewGroup.LayoutParams.WRAP_CONTENT，参数focusable指是否显示焦点，即点击该布局之外的地方可以退出。</td>
</tr>
<tr>
<td>setContentView(View contentView)</td>
<td>设置PopupWindow显示的View</td>
</tr>
<tr>
<td>getContentView()</td>
<td>获得PopupWindow显示的View</td>
</tr>
<tr>
<td>showAsDropDown(View anchor)</td>
<td>相对某个控件的位置（正左下方），无偏移</td>
</tr>
<tr>
<td>showAsDropDown(View anchor, int xoff, int yoff)</td>
<td>相对某个控件的位置，有偏移</td>
</tr>
<tr>
<td>setFocusable(boolean focusable)</td>
<td>设置焦点</td>
</tr>
<tr>
<td>setBackgroundDrawable(Drawable background)</td>
<td>设置背景</td>
</tr>
<tr>
<td>setAnimationStyle(int animationStyle)</td>
<td>设置动画效果</td>
</tr>
<tr>
<td>dismiss()</td>
<td>关闭弹窗</td>
</tr>
</tbody></table>
<h3 id="案例-7"><a href="#案例-7" class="headerlink" title="案例"></a>案例</h3><p>xml配置如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--主活动的layout的xml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;50dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btn1&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;点击显示PopupWindow&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:onClick</span>=<span class="hljs-string">&quot;ClickButton&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br><span class="hljs-comment">&lt;!--popupwindow的layout的xml--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/haha&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;哈哈哈哈哈&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/xixi&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;嘻嘻嘻嘻&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>MainActivity如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">private</span> PopupWindow popupWindow;<br>    <span class="hljs-keyword">private</span> View popupwindow_view;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_main);<br><br>        <span class="hljs-comment">//获取view资源的对象</span><br>        popupwindow_view = getLayoutInflater().inflate(R.layout.popupwindow_view, <span class="hljs-literal">null</span>);<br>        <span class="hljs-comment">//创建popupwindow对象</span><br>        popupWindow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PopupWindow</span>(popupwindow_view,<br>                ViewGroup.LayoutParams.WRAP_CONTENT,<br>                ViewGroup.LayoutParams.WRAP_CONTENT,<br>                <span class="hljs-literal">true</span>);<br>        <span class="hljs-comment">//设置背景</span><br>        popupWindow.setBackgroundDrawable(getResources().getDrawable(R.drawable.wallhaven));<br><br>        <span class="hljs-comment">//设置popupwindow中按钮的点击事件处理方法</span><br>        <span class="hljs-type">Button</span> <span class="hljs-variable">haha</span> <span class="hljs-operator">=</span> popupwindow_view.findViewById(R.id.haha);<br>        <span class="hljs-type">Button</span> <span class="hljs-variable">xixi</span> <span class="hljs-operator">=</span> popupwindow_view.findViewById(R.id.xixi);<br>        haha.setOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>                Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;你点击了哈哈哈&quot;</span>, Toast.LENGTH_SHORT).show();<br>                popupWindow.dismiss();<br>            &#125;<br>        &#125;);<br>        xixi.setOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>                Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;你点击了嘻嘻嘻&quot;</span>, Toast.LENGTH_SHORT).show();<br>                popupWindow.dismiss();<br>            &#125;<br>        &#125;);<br><br>    &#125;<br>    <span class="hljs-comment">//显示popupwindow</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ClickButton</span><span class="hljs-params">(View view)</span> &#123;<br>        popupWindow.showAsDropDown(view);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="2-12-ListView"><a href="#2-12-ListView" class="headerlink" title="2.12 ListView"></a>2.12 ListView</h2><p>列表。列表中的每一项(item)都有自己的布局。item的布局单独创建一个layout的xml文件，并对该布局创建一个类，同时也要创建对应的Adapter类，用来给item填充数据等。</p>
<blockquote>
<p>什么是Adapter?</p>
<p>答：</p>
<p>Adapter（适配器）是一个用于将数据与视图进行绑定的桥梁。简单点说，就是将各种数据以合适的形式显示到view上，提供给用户看。（个人的理解是Adapter将数据从布局中分离开来）</p>
<p>常用的几个Adapter类</p>
<ul>
<li>BaseAdapter：是一个抽象类，提供了一个基本的Adapter实现，可以用于自定义Adapter的开发。</li>
<li>ArrayAdapter：是BaseAdapter的子类，用于将数组或List数据绑定到ListView中。</li>
<li>SimpleAdapter：是BaseAdapter的子类，用于将键值对数据绑定到ListView中的多个TextView组合的布局中。</li>
<li>CursorAdapter：是BaseAdapter的子类，用于将数据库Cursor中的数据绑定到ListView中。</li>
<li>RecyclerView.Adapter：用于RecyclerView组件的适配器，支持更强大的列表项定制和动画效果。</li>
</ul>
</blockquote>
<h3 id="基本属性-8"><a href="#基本属性-8" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>divider</td>
<td>设置表项之间的分隔条,可以用颜色分割,也可以用drawable资源分割</td>
</tr>
<tr>
<td>dividerHeight</td>
<td>设置表项之间分割线的高度</td>
</tr>
<tr>
<td>dividerPadding</td>
<td>设置表项之间分割线的左右内边距</td>
</tr>
<tr>
<td>listSelector</td>
<td>设置表项被选中时的背景样式</td>
</tr>
<tr>
<td>scrollbars</td>
<td>设置滚动条的显示方式，如”vertical”（垂直滚动条）、”horizontal”（水平滚动条）和”none”（不显示滚动条）</td>
</tr>
<tr>
<td>headerDividersEnabled, footerDividersEnabled</td>
<td>是否显示列表头部和尾部的分割线，默认为true</td>
</tr>
</tbody></table>
<h3 id="案例-8"><a href="#案例-8" class="headerlink" title="案例"></a>案例</h3><p>实现类似QQ的消息列表。（目的在于学会使用Adapte）</p>
<p>首先activity_main.xml中创建一个ListView就行了。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">ListView</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/lv&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ListView</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>另外创建一个xml文件用于列表中item的布局。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">&quot;http://schemas.android.com/tools&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span>&gt;</span><br><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/imageView&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;135dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;128dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:layout_constraintBottom_toBottomOf</span>=<span class="hljs-string">&quot;@+id/textView3&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:layout_constraintEnd_toStartOf</span>=<span class="hljs-string">&quot;@+id/textView3&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">tools:srcCompat</span>=<span class="hljs-string">&quot;@tools:sample/avatars&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/textView2&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;275dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;40dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;TextView&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:layout_constraintEnd_toEndOf</span>=<span class="hljs-string">&quot;parent&quot;</span> /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/textView3&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;275dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;94dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;TextView&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:layout_constraintEnd_toEndOf</span>=<span class="hljs-string">&quot;parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:layout_constraintTop_toBottomOf</span>=<span class="hljs-string">&quot;@+id/textView2&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>这里使用ConstraintLayout布局很方便，只要拖拽组件，连线就可以制作好。</p>
<p>因为信息不存放在xml文件中，所以创建一个类来描述item。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//列表中item所需要展示的东西</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>	<span class="hljs-comment">//网名</span><br>    <span class="hljs-keyword">private</span> String name;<br>	<span class="hljs-comment">//消息</span><br>    <span class="hljs-keyword">private</span> String text;<br>    <span class="hljs-comment">//头像</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> pIcon;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, String text, <span class="hljs-type">int</span> pIcon)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.text = text;<br>        <span class="hljs-built_in">this</span>.pIcon = pIcon;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getText</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> text;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setText</span><span class="hljs-params">(String text)</span> &#123;<br>        <span class="hljs-built_in">this</span>.text = text;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getpIcon</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> pIcon;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setpIcon</span><span class="hljs-params">(<span class="hljs-type">int</span> pIcon)</span> &#123;<br>        <span class="hljs-built_in">this</span>.pIcon = pIcon;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>再写个类继承BaseAdapter用来将数据显示在页面中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PersonAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseAdapter</span> &#123;<br><br>    <span class="hljs-keyword">private</span> ArrayList&lt;Person&gt; data;<br>    <span class="hljs-keyword">private</span> Context context;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PersonAdapter</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PersonAdapter</span><span class="hljs-params">(ArrayList&lt;Person&gt; data, Context context)</span> &#123;<br>        <span class="hljs-built_in">this</span>.data = data;<br>        <span class="hljs-built_in">this</span>.context = context;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getCount</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> data.size();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getItem</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span> &#123;<br>        <span class="hljs-keyword">return</span> data.get(i);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getItemId</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span> &#123;<br>        <span class="hljs-keyword">return</span> i;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-comment">//getView给列表中的每一项进行设置并返回到页面上</span><br>    <span class="hljs-keyword">public</span> View <span class="hljs-title function_">getView</span><span class="hljs-params">(<span class="hljs-type">int</span> i, View view, ViewGroup viewGroup)</span> &#123;<br>        ViewHolder viewHolder;<br>        <br>        <span class="hljs-keyword">if</span> (view == <span class="hljs-literal">null</span>)&#123;<br>            view = LayoutInflater.from(context).inflate(R.layout.item_view, viewGroup, <span class="hljs-literal">false</span>);<br>			<br>            viewHolder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewHolder</span>();<br>            viewHolder.Icon = view.findViewById(R.id.imageView);<br>            viewHolder.Name = view.findViewById(R.id.textView2);<br>            viewHolder.Message = view.findViewById(R.id.textView3);<br><br>            view.setTag(viewHolder);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            viewHolder = (ViewHolder) view.getTag();<br>        &#125;<br><br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> data.get(i);<br><br>        viewHolder.Icon.setBackgroundResource(person.getpIcon());<br>        viewHolder.Name.setText(person.getName());<br>        viewHolder.Message.setText(person.getText());<br><br>        <span class="hljs-keyword">return</span> view;<br>    &#125;<br><br>    <span class="hljs-comment">//优化</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewHolder</span>&#123;<br>        ImageView Icon;<br>        TextView Name;<br>        TextView Message;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>对于getView方法，有多少个item就会调用多少次getView方法，里面的inflate方法和findViewById方法会被调用多次，这是非常耗时的。</p>
<p>但是getView方法中的参数view是系统提供的视图<strong>缓存</strong>对象。所以通过if语句的判断view是否已经创建，就不会执行多次inflate方法。同时创建ViewHolder类存放item的组件，通过view.setTag(viewHolder)放入view中，相当于也缓存item中的控件引用，以便后续复用（比如屏幕上下滑动，同一个item多次出现、隐藏的情况）。</p>
<p>最后MainActivity.java如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span>&#123;<br><br>    <span class="hljs-keyword">private</span> ArrayList&lt;Person&gt; PersonArrayList;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_main);<br><br>        <span class="hljs-comment">//随便造点数据</span><br>        PersonArrayList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Person&gt;();<br>        PersonArrayList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;送之&quot;</span>, <span class="hljs-string">&quot;在吗？&quot;</span>, R.drawable.wallhaven));<br>        PersonArrayList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;无阿&quot;</span>, <span class="hljs-string">&quot;Vivo50&quot;</span>, R.drawable.wallhaven));<br>        PersonArrayList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;吉拉&quot;</span>, <span class="hljs-string">&quot;6&quot;</span>, R.drawable.wallhaven));<br>        PersonArrayList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;阿三&quot;</span>, <span class="hljs-string">&quot;?&quot;</span>, R.drawable.wallhaven));<br>        PersonArrayList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;骗子&quot;</span>, <span class="hljs-string">&quot;我是秦始皇&quot;</span>, R.drawable.baseline_account_box_24));<br><br>        <span class="hljs-comment">//找到ListView</span><br>        <span class="hljs-type">ListView</span> <span class="hljs-variable">listviewByid</span> <span class="hljs-operator">=</span> findViewById(R.id.lv);<br>        <span class="hljs-comment">//需要配合Adapter才能将数据放入</span><br>        listviewByid.setAdapter(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonAdapter</span>(PersonArrayList, <span class="hljs-built_in">this</span>));<br><br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="2-13-RecyclerView"><a href="#2-13-RecyclerView" class="headerlink" title="2.13 RecyclerView"></a>2.13 RecyclerView</h2><p>RecyclerView比ListView更加灵活，RecyclerView在继承RecyclerView.Adapter时会强制让我们实现ViewHolder，同时也提供了多个布局可供选择。</p>
<p>直接上案例。</p>
<h3 id="案例-9"><a href="#案例-9" class="headerlink" title="案例"></a>案例</h3><p>同ListView的案例。主要是继承RecyclerView.Adapter处有区别。</p>
<p>PersonAdapter.java如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//RecyclerView.Adapter&lt;VH&gt;,在继承RecyclerView.Adapter的时候就让我们强制性创建ViewHolder来优化</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PersonAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecyclerView</span>.Adapter&lt;PersonAdapter.ViewHolder&gt; &#123;<br><br>    <span class="hljs-keyword">private</span> ArrayList&lt;Person&gt; data;<br>    <span class="hljs-keyword">private</span> Context context;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PersonAdapter</span><span class="hljs-params">(ArrayList&lt;Person&gt; data, Context context)</span> &#123;<br>        <span class="hljs-built_in">this</span>.data = data;<br>        <span class="hljs-built_in">this</span>.context = context;<br>    &#125;<br><br>    <span class="hljs-comment">//用于创建ViewHolder对象</span><br>    <span class="hljs-keyword">public</span> ViewHolder <span class="hljs-title function_">onCreateViewHolder</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ViewGroup parent, <span class="hljs-type">int</span> viewType)</span> &#123;<br>        <span class="hljs-comment">//就是BaseAdapter类中getView()方法的第二个参数--缓冲对象view</span><br>        <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> View.inflate(context, R.layout.item_view, <span class="hljs-literal">null</span>);<br>        <span class="hljs-comment">//创建viewholder并返回</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewHolder</span>(view);<br>    &#125;<br><br>    <span class="hljs-comment">//用于给item的控件设置数据</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onBindViewHolder</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ViewHolder holder, <span class="hljs-type">int</span> position)</span> &#123;<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> data.get(position);<br><br>        holder.Icon.setBackgroundResource(person.getpIcon());<br>        holder.Name.setText(person.getName());<br>        holder.Message.setText(person.getText());<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getItemCount</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> data == <span class="hljs-literal">null</span> ? <span class="hljs-number">0</span>:data.size();<br>    &#125;<br><br>    <span class="hljs-comment">//ViewHolder需要继承RecyclerView.ViewHolder类</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewHolder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RecyclerView</span>.ViewHolder &#123;<br>        <span class="hljs-comment">//item的控件</span><br>        <span class="hljs-keyword">private</span> ImageView Icon;<br>        <span class="hljs-keyword">private</span> TextView Name;<br>        <span class="hljs-keyword">private</span> TextView Message;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-title function_">ViewHolder</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> View itemView)</span> &#123;<br>            <span class="hljs-built_in">super</span>(itemView);<br>            <span class="hljs-comment">//获取控件,调用的时候通过ViewHolder.xxx</span><br>            Icon = itemView.findViewById(R.id.imageView);<br>            Name = itemView.findViewById(R.id.textView2);<br>            Message = itemView.findViewById(R.id.textView3);<br><br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>看似那么多方法，但做的事情并没有变：通过inflate方法获取view，创建ViewHolder对象，通过findViewById方法获取item中的组件，通过setxxx方法设置数据。只不过是将这些工作细化为多个方法了。</p>
<p>MainActivity.java如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span>&#123;<br><br>    <span class="hljs-keyword">private</span> ArrayList&lt;Person&gt; PersonArrayList;<br><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_main);<br><br>        <span class="hljs-comment">//随便造点数据</span><br>		......<br><br>        <span class="hljs-comment">//找到ListView</span><br>        <span class="hljs-type">RecyclerView</span> <span class="hljs-variable">recyclerView</span> <span class="hljs-operator">=</span> findViewById(R.id.rv);<br>        <span class="hljs-comment">//创建Adapter</span><br>        <span class="hljs-type">PersonAdapter</span> <span class="hljs-variable">personAdapter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonAdapter</span>(PersonArrayList, <span class="hljs-built_in">this</span>);<br>        <span class="hljs-comment">//需要配合Adapter才能将数据放入</span><br>        recyclerView.setAdapter(personAdapter);<br>        <span class="hljs-comment">//除此之外，还需要给recyclerView布局。ListView默认垂直布局，而recyclerView将布局抽离出来，使得布局更加灵活</span><br>        recyclerView.setLayoutManager(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LinearLayoutManager</span>(<span class="hljs-built_in">this</span>));<span class="hljs-comment">//示例使用线性布局管理器</span><br>        <span class="hljs-comment">//recyclerView.setLayoutManager(new GridLayoutManager(this,3));//示例使用网格布局管理器</span><br>        <span class="hljs-comment">//recyclerView.setLayoutManager(new StaggeredGridLayoutManager(3,LinearLayout.HORIZONTAL));//示例使用网格布局管理器</span><br><br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>以上基本就实现了RecyclerView。</p>
<p>然后再给item来个点击事件的监听和处理。</p>
<p>这部分主要在PersonAdapter.java中额外添加一下方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//外部设置的监听对象	</span><br><span class="hljs-keyword">private</span> OnRecyclerItemOnClickListener monRecyclerItemOnClickListener;<br><br><span class="hljs-comment">//item的点击事件处理方法的接口</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OnRecyclerItemOnClickListener</span>&#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onRecyclerItemClick</span><span class="hljs-params">(<span class="hljs-type">int</span> postion)</span>;<br>&#125;<br><br><span class="hljs-comment">//外部调用该方法来设置item监听</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setRecyclerItemOnClickListener</span><span class="hljs-params">(OnRecyclerItemOnClickListener listener)</span>&#123;<br>    monRecyclerItemOnClickListener = listener;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>同时还需要在继承了RecyclerView.ViewHolder类的ViewHolder类的ViewHolder方法中给item设置监听</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//设置监听</span><br>itemView.setOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>        <span class="hljs-keyword">if</span> (monRecyclerItemOnClickListener != <span class="hljs-literal">null</span>)&#123;<br>            monRecyclerItemOnClickListener.onRecyclerItemClick(getAdapterPosition());<br>        &#125;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>最后在MainActivity.java中给Adapter创建监听并实现接口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">personAdapter.setRecyclerItemOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonAdapter</span>.OnRecyclerItemOnClickListener() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onRecyclerItemClick</span><span class="hljs-params">(<span class="hljs-type">int</span> postion)</span> &#123;<br>        Log.d(<span class="hljs-string">&quot;leo&quot;</span>, <span class="hljs-string">&quot;点击了第&quot;</span>+postion+<span class="hljs-string">&quot;个item&quot;</span>);<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>咋一看，怎么设置了两次监听？其实在MainActivity.java的调用的setRecyclerItemOnClickListener方法实际上是为了给外部提供一个接口，让外部有机会设置自己的监听器monRecyclerItemOnClickListener来处理item的点击事件。（并不是继承View.OnClickListener重写onClick方法）</p>
<p>而给item设置的监听，才会在我们点击页面中的列表项时触发。</p>
<p>（可以尝试理解为item在页面中有对应控件，是可以点击到的，而Adapter在页面中并不没有。当然这样理解并不是很正确）</p>
<p>（不妨可以直接将OnRecyclerItemOnClickListener接口写成方法试试，但一般不将处理函数写死）</p>
<h2 id="2-14-ViewPager"><a href="#2-14-ViewPager" class="headerlink" title="2.14 ViewPager"></a>2.14 ViewPager</h2><p>ViewPager是一个页面切换组件，常用于创建轮播图、图片浏览、导航页面等需要左右滑动切换内容的场景。使用<code>&lt;androidx.viewpager.widget.ViewPager&gt;</code>或者<code>&lt;androidx.viewpager2.widget.ViewPager2&gt;</code>标签。需要PagerAdapter创建Adapter对象与ViewPager对象绑定。</p>
<p>在开发中经常与Fragment搭配使用，官方给我们提供了两个专门用于Fragment的Adapter：<strong>FragmentPageAdapter</strong>和<strong>FragmentStatePagerAdapter</strong>：</p>
<ul>
<li><strong>FragmentPageAdapter</strong>：和PagerAdapter一样，只会缓存当前的Fragment以及左边一个，右边 一个，即总共会缓存3个Fragment。</li>
<li><strong>FragmentStatePagerAdapter</strong>：当Fragment对用户不可见时，整个Fragment会被销毁， 只会保存Fragment的状态。而在页面需要重新显示的时候，会生成新的页面。</li>
</ul>
<p>（与viewpager2搭配使用！）</p>
<h3 id="基本方法-1"><a href="#基本方法-1" class="headerlink" title="基本方法"></a>基本方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>instantiateItem()</td>
<td>①将给定位置的view添加到ViewGroup(容器)中,创建并显示出来 <br/>②返回一个代表新增页面的Object(key),通常都是直接返回view本身就可以了,当然你也可以自定义自己的key,但是key和每个view要一一对应的关系</td>
</tr>
<tr>
<td>isViewFromObject()</td>
<td>判断instantiateItem函数所返回来的Key与一个页面视图是否是代表的同一个视图(即它俩是否是对应的，对应的表示同一个View),通常我们直接写 return view &#x3D;&#x3D; object</td>
</tr>
<tr>
<td>destroyItem()</td>
<td>从ViewGroup容器中移除对应位置的视图对象，即摧毁对应页面视图</td>
</tr>
<tr>
<td>getPageTitle()</td>
<td>获取指定位置页面的标题</td>
</tr>
</tbody></table>
<h3 id="案例-10"><a href="#案例-10" class="headerlink" title="案例"></a>案例</h3><p>页面切换。</p>
<p>先随便在layout文件夹下创建三个布局。</p>
<p>然后创建一个继承PagerAdapter的类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PagerAdapter</span> &#123;<br><br>    <span class="hljs-comment">//存放要展示的viewpage</span><br>    <span class="hljs-keyword">private</span> List&lt;View&gt; viewList;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ViewAdapter</span><span class="hljs-params">(List&lt;View&gt; viewList)</span> &#123;<br>        <span class="hljs-built_in">this</span>.viewList = viewList;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getCount</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> viewList == <span class="hljs-literal">null</span>? <span class="hljs-number">0</span> : viewList.size();<br>    &#125;<br><br>    <span class="hljs-comment">//判断是否是当前页面视图</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isViewFromObject</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> View view, <span class="hljs-meta">@NonNull</span> Object object)</span> &#123;<br>        <span class="hljs-keyword">return</span> view == object;<br>    &#125;<br><br>    <span class="hljs-comment">//创建页面视图</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">instantiateItem</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ViewGroup container, <span class="hljs-type">int</span> position)</span> &#123;<br>        container.addView(viewList.get(position), <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span> viewList.get(position);<br>    &#125;<br>	<span class="hljs-comment">//摧毁页面视图</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroyItem</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ViewGroup container, <span class="hljs-type">int</span> position, <span class="hljs-meta">@NonNull</span> Object object)</span> &#123;<br>        container.removeView(viewList.get(position));<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>MainActivity.java如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span>&#123;<br><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_main);<br><br>        <span class="hljs-comment">//创建解析器</span><br>        <span class="hljs-type">LayoutInflater</span> <span class="hljs-variable">inflater</span> <span class="hljs-operator">=</span> getLayoutInflater().from(<span class="hljs-built_in">this</span>);<br>        <span class="hljs-comment">//解析viewpage页面</span><br>        <span class="hljs-type">View</span> <span class="hljs-variable">vp1</span> <span class="hljs-operator">=</span> inflater.inflate(R.layout.viewpage1,<span class="hljs-literal">null</span>);<br>        <span class="hljs-type">View</span> <span class="hljs-variable">vp2</span> <span class="hljs-operator">=</span> inflater.inflate(R.layout.viewpage2,<span class="hljs-literal">null</span>);<br>        <span class="hljs-type">View</span> <span class="hljs-variable">vp3</span> <span class="hljs-operator">=</span> inflater.inflate(R.layout.viewpage3,<span class="hljs-literal">null</span>);<br><br>        List&lt;View&gt; viewList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br>        viewList.add(vp1);<br>        viewList.add(vp2);<br>        viewList.add(vp3);<br>        <span class="hljs-comment">//通过id找ViewPager</span><br>        <span class="hljs-type">ViewPager</span> <span class="hljs-variable">viewPager</span> <span class="hljs-operator">=</span> findViewById(R.id.vp);<br>        <span class="hljs-comment">//创建ViewAdapter</span><br>        <span class="hljs-type">ViewAdapter</span> <span class="hljs-variable">viewAdapter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewAdapter</span>(viewList);<br>        <span class="hljs-comment">//绑定ViewAdapter</span><br>        viewPager.setAdapter(viewAdapter);<br><br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="三、布局"><a href="#三、布局" class="headerlink" title="三、布局"></a>三、布局</h1><p>也就是放置控件、布局的容器，可以多层嵌套。</p>
<p>布局中的所有元素均使用 <code>View</code> 和 <code>ViewGroup</code> 对象的层次结构进行构建。<code>View</code> 通常用于绘制用户<strong>可看到并与之交互</strong>的内容。<code>ViewGroup</code> 则是<strong>不可见</strong>的容器。</p>
<p><img src="https://raw.githubusercontent.com/gal2xy/blog_img/main/img/202308131930446.jpg" srcset="/img/loading.gif" lazyload></p>
<p><code>View</code> 对象通常称为“微件”，可以是多个子类之一，例如 <code>Button</code> 或 <code>TextView</code>。<code>ViewGroup</code> 对象通常称为“布局”，可以是提供不同布局结构的众多类型之一，例如 <code>LinearLayout</code> 或 <code>ConstraintLayout</code>。</p>
<h2 id="3-1-LinearLayout"><a href="#3-1-LinearLayout" class="headerlink" title="3.1 LinearLayout"></a>3.1 LinearLayout</h2><p>线性布局</p>
<h3 id="基本属性-9"><a href="#基本属性-9" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>orientation</td>
<td>布局中组件的排列方式，如horizontal(水平摆放)、vertical(垂直拜访，即一个控件占一整行)</td>
</tr>
<tr>
<td>gravity</td>
<td>控制组件或布局所包含的子元素的对齐方式，可以多个组合，以 | 分隔，如 bottom|left表示位置在左下方</td>
</tr>
<tr>
<td>layout_gravity</td>
<td>控制当前组件在父容器的对齐方式</td>
</tr>
<tr>
<td>background</td>
<td>为当前组件设置背景（图片、颜色）</td>
</tr>
<tr>
<td>divider</td>
<td>分割线。与showDividers搭配使用</td>
</tr>
<tr>
<td>showDividers</td>
<td>设置分割线所在的位置，如none(无)、beginning(开始)、end(结束)、middle(每两个组件间)</td>
</tr>
<tr>
<td>dividerPadding</td>
<td>设置分隔线与左右两边的间距</td>
</tr>
<tr>
<td>layout_weight</td>
<td>等比例划分剩余区域</td>
</tr>
</tbody></table>
<h3 id="案例-11"><a href="#案例-11" class="headerlink" title="案例"></a>案例</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">&quot;center&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;@drawable/wallhaven&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:divider</span>=<span class="hljs-string">&quot;@drawable/baseline_password_24&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:showDividers</span>=<span class="hljs-string">&quot;middle&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:dividerPadding</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;300dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;LinearLayout嵌套LinearLayout&quot;</span></span><br><span class="hljs-tag">            /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;请选择你喜欢吃的水果:&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;left&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;24dp&quot;</span>/&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">RadioButton</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/apple&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;苹果&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;24dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;right&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">RadioButton</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/banana&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;香蕉&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;24dp&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">RadioButton</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/pear&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;梨&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;24dp&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">RadioButton</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/Cantaloupe&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;哈密瓜&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;24dp&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btnpost&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;50dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;提交&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:onClick</span>=<span class="hljs-string">&quot;postByclick&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="3-2-RelativeLayout"><a href="#3-2-RelativeLayout" class="headerlink" title="3.2 RelativeLayout"></a>3.2 RelativeLayout</h2><p>相对布局。</p>
<h3 id="基本属性-10"><a href="#基本属性-10" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th align="left">属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">gravity</td>
<td>控制组件或布局所包含的子元素的对齐方式</td>
</tr>
<tr>
<td align="left">ignoreGravity</td>
<td>设置为true将不受gravity属性的影响</td>
</tr>
<tr>
<td align="left">layout_alignParentXXXX(Left, Right等)</td>
<td>根据父容器定位。左(右)对齐</td>
</tr>
<tr>
<td align="left">layout_centerXXXX(Horizontal, Vertical, InParent)</td>
<td>根据父容器定位。水平居中，垂直居中，中间位置</td>
</tr>
<tr>
<td align="left">layout_XXX(toLeftOf, toRightOf, above, below, alignTop, alignBottom, alignLeft, alignRight)</td>
<td>根据兄弟组件定位。根据id来设置。其中toLeftOf, toRightOf, above, below是参考组件的左、右、上、下边，而alignTop, alignBottom, alignLeft, alignRight则是<strong>对齐</strong>参考组件的上、下、左、右边界。</td>
</tr>
<tr>
<td align="left">layout_XXX(margin, marginLeft, marginRight, marginTop, marginBottom)</td>
<td>设置组件与父容器的边距（偏移）</td>
</tr>
<tr>
<td align="left">padding, paddingXXX(Left, Right, Top, Bottom)</td>
<td>设置组件内部元素间的边距</td>
</tr>
</tbody></table>
<h3 id="案例-12"><a href="#案例-12" class="headerlink" title="案例"></a>案例</h3><p>实现梅花布局。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">RelativeLayout</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btn_center&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_centerInParent</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btn_left&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_centerVertical</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_toLeftOf</span>=<span class="hljs-string">&quot;@id/btn_center&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btn_right&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_centerVertical</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_toRightOf</span>=<span class="hljs-string">&quot;@id/btn_center&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btn_top&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_centerHorizontal</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_above</span>=<span class="hljs-string">&quot;@id/btn_center&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/btn_bottom&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_below</span>=<span class="hljs-string">&quot;@id/btn_center&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_centerInParent</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">RelativeLayout</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="3-3-FrameLayout"><a href="#3-3-FrameLayout" class="headerlink" title="3.3 FrameLayout"></a>3.3 FrameLayout</h2><p>帧布局。从父容器左上角开始绘制，按组件或布局的定义顺序依次绘制，造成覆盖效果。</p>
<h3 id="基本属性-11"><a href="#基本属性-11" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>foreground</td>
<td>设置前景图像</td>
</tr>
<tr>
<td>foregroundGravity</td>
<td>设置前景图像显示的位置</td>
</tr>
</tbody></table>
<h3 id="案例-13"><a href="#案例-13" class="headerlink" title="案例"></a>案例</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">FrameLayout</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;400dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;400dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;#FFFF0000&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;300dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;300dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;#FF00FF00&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;200dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;200dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;#FF0000FF&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;100dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;#FFFFFF00&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:foreground</span>=<span class="hljs-string">&quot;@drawable/baseline_airplanemode_active_24&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:foregroundGravity</span>=<span class="hljs-string">&quot;center&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">FrameLayout</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="3-4-TableLayout"><a href="#3-4-TableLayout" class="headerlink" title="3.4 TableLayout"></a>3.4 TableLayout</h2><p>表格布局。</p>
<p>&lt;<code>TableLayout&gt;</code>表格标签，内嵌<code>&lt;TableRow&gt;</code>表行标签</p>
<h3 id="基本属性-12"><a href="#基本属性-12" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>collapseColumns</td>
<td>设置需要被隐藏的列的序号，序号从0开始。可以设置多个,用逗号隔开，比如”0,2”，如果是所有列都生效，则用”*“号即可</td>
</tr>
<tr>
<td>stretchColumns</td>
<td>设置允许被拉伸的列的列序号，序号从0开始。设置同上。只要存在一行是满的，设置就对所有行无效。<strong>无法控制被拉伸的控件的长度</strong></td>
</tr>
<tr>
<td>shrinkColumns</td>
<td>设置允许被收缩的列的列序号，序号从0开始。设置同上。只要存在一行有空隙，设置就对所有行无效。<strong>无法控制被收缩的控件的长度</strong></td>
</tr>
<tr>
<td>layout_column</td>
<td>设置<strong>子控件</strong>显示在第几列</td>
</tr>
<tr>
<td>layout_span</td>
<td>设置<strong>子控件</strong>横向跨几列</td>
</tr>
</tbody></table>
<h2 id="3-5-GridLayout"><a href="#3-5-GridLayout" class="headerlink" title="3.5 GridLayout"></a>3.5 GridLayout</h2><p>网格布局。</p>
<p>与TableLayout有点类似，但比它更好用，功能（属性）更多。</p>
<h3 id="基本属性-13"><a href="#基本属性-13" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>orientation</td>
<td>设置水平显示还是垂直显示</td>
</tr>
<tr>
<td>columnCount</td>
<td>设置行的显示个数。</td>
</tr>
<tr>
<td>rowCount</td>
<td>设置列的显示个数。</td>
</tr>
<tr>
<td>layout_row, layout_column</td>
<td>设置<strong>子控件</strong>显示在第几行第几列。从0开始，可以覆盖。<u>后面没有定义行列的控件会跟随当前控件移动</u>。</td>
</tr>
<tr>
<td>layout_rowSpan, layout_columnSpan</td>
<td>设置<strong>子控件</strong>横跨几行几列。<strong>需要设置android:layout_gravity &#x3D; “fill”才能生效</strong></td>
</tr>
<tr>
<td>layout_gravity</td>
<td>设置<strong>子控件</strong>在网格中的显示位置，如left, right等</td>
</tr>
<tr>
<td>layout_columnWeight, layout_rowWeight</td>
<td>设置<strong>子控件</strong>的横向（或纵向）剩余空间的分配权重。与LinearLayout布局的属性layout_weight相同</td>
</tr>
</tbody></table>
<h3 id="案例-14"><a href="#案例-14" class="headerlink" title="案例"></a>案例</h3><p>实现计算器布局。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">GridLayout</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;horizontal&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:columnCount</span>=<span class="hljs-string">&quot;4&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:rowCount</span>=<span class="hljs-string">&quot;7&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;9+1&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;24sp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;#fecccb&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">&quot;5dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;fill&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_columnSpan</span>=<span class="hljs-string">&quot;4&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;回退&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_columnSpan</span>=<span class="hljs-string">&quot;2&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;fill&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;归零&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_columnSpan</span>=<span class="hljs-string">&quot;2&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;fill&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;7&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;8&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;9&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;+&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;4&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;5&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;6&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;-&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;1&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;2&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;3&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;*&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;0&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;.&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;=&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">android.widget.Button</span> <span class="hljs-attr">android:text</span>=<span class="hljs-string">&quot;/&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">GridLayout</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="3-6-ConstraintLayout"><a href="#3-6-ConstraintLayout" class="headerlink" title="3.6 ConstraintLayout"></a>3.6 ConstraintLayout</h2><p>约束布局。</p>
<p><code>&lt;androidx.constraintlayout.widget.ConstraintLayout&gt;</code>标签。</p>
<p>可以在Design模式下，拖动控件进行布局，更加方便，<strong>进行可视化布局</strong>，Infer Constraints功能可以直接帮你设置好约束（比如距离控件或父容器的各种设置），当然也可以在Attributes处进行更详细的设置。</p>
<h1 id="四、动画"><a href="#四、动画" class="headerlink" title="四、动画"></a>四、动画</h1><h2 id="4-1-逐帧动画"><a href="#4-1-逐帧动画" class="headerlink" title="4.1 逐帧动画"></a>4.1 逐帧动画</h2><p>把多张图片快速播放形成的动画。</p>
<p>使用方法：</p>
<p><code>&lt;animation-list&gt;</code>作为大标签，内部设置多个<code>&lt;item&gt;</code>小标签（对应多张图片），<code>&lt;item&gt;</code>标签设置图片资源(drawable)和图片显示的时间(duration)。</p>
<h3 id="基本属性-14"><a href="#基本属性-14" class="headerlink" title="基本属性"></a>基本属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>drawable</td>
<td>图片资源</td>
</tr>
<tr>
<td>duration</td>
<td>图片显示的时间，单位为ms。每张图片显示的时间可以单独设置</td>
</tr>
</tbody></table>
<h3 id="基本方法-2"><a href="#基本方法-2" class="headerlink" title="基本方法"></a>基本方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>start()</td>
<td>播放动画</td>
</tr>
<tr>
<td>stop()</td>
<td>停止动画</td>
</tr>
</tbody></table>
<h3 id="案例-15"><a href="#案例-15" class="headerlink" title="案例"></a>案例</h3><p>动画xml如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">animation-list</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">&quot;@drawable/baseline_airplanemode_active_24&quot;</span> <span class="hljs-attr">android:duration</span>=<span class="hljs-string">&quot;120&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">&quot;@drawable/baseline_airplanemode_inactive_24&quot;</span> <span class="hljs-attr">android:duration</span>=<span class="hljs-string">&quot;120&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">&quot;@drawable/wallhaven&quot;</span> <span class="hljs-attr">android:duration</span>=<span class="hljs-string">&quot;120&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">animation-list</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>然后在activity_main.xml中引用。</p>
<p>但是并不会播放，需要通过调用start()方法来播放动画。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>        setContentView(R.layout.activity_main);<br><br>        <span class="hljs-type">LinearLayout</span> <span class="hljs-variable">linearlayout</span> <span class="hljs-operator">=</span> findViewById(R.id.ll);<br>        <span class="hljs-type">AnimationDrawable</span> <span class="hljs-variable">animation</span> <span class="hljs-operator">=</span> (AnimationDrawable)linearlayout.getBackground();<br>        animation.start();<br><br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="4-2-补间动画"><a href="#4-2-补间动画" class="headerlink" title="4.2 补间动画"></a>4.2 补间动画</h2><p>在指定的时间段内，通过不断地改变视图的属性值（如位置、尺寸、旋转角度、透明度等），来实现视图的平滑动画效果。</p>
<p>主要有以下几种类型的补间动画：</p>
<ol>
<li>位移动画（Translate Animation）：通过改变视图的位置实现移动效果。</li>
<li>缩放动画（Scale Animation）：通过改变视图的尺寸实现缩放效果。</li>
<li>旋转动画（Rotate Animation）：通过改变视图的旋转角度实现旋转效果。</li>
<li>透明度动画（Alpha Animation）：通过改变视图的透明度实现淡入淡出效果。</li>
</ol>
<h3 id="基本属性-15"><a href="#基本属性-15" class="headerlink" title="基本属性"></a>基本属性</h3><h4 id="位移动画"><a href="#位移动画" class="headerlink" title="位移动画"></a>位移动画</h4><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>fromXDelta, fromYDelta</td>
<td>起始X、Y轴位置的偏移量</td>
</tr>
<tr>
<td>toXDelta, toYDelta</td>
<td>结束X、Y轴位置的偏移量</td>
</tr>
<tr>
<td>duration</td>
<td>动画时长</td>
</tr>
</tbody></table>
<h4 id="缩放动画"><a href="#缩放动画" class="headerlink" title="缩放动画"></a>缩放动画</h4><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>fromXScale, fromYScale</td>
<td>起始X、Y轴上的缩放比例</td>
</tr>
<tr>
<td>toXScale, toYScale</td>
<td>结束X、Y轴上的缩放比例</td>
</tr>
<tr>
<td>pivotX, pivotY</td>
<td>缩放中心点的X、Y轴坐标（被缩放的控件的左上角为0%，中心为50%）</td>
</tr>
<tr>
<td>duration</td>
<td>动画时长</td>
</tr>
</tbody></table>
<h4 id="旋转动画"><a href="#旋转动画" class="headerlink" title="旋转动画"></a>旋转动画</h4><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>fromDegrees</td>
<td>起始角度（0~360）</td>
</tr>
<tr>
<td>toDegrees</td>
<td>结束角度</td>
</tr>
<tr>
<td>pivotX, pivotY</td>
<td>旋转中心点的X、Y轴坐标</td>
</tr>
<tr>
<td>duration</td>
<td>动画时长</td>
</tr>
</tbody></table>
<h4 id="透明度动画"><a href="#透明度动画" class="headerlink" title="透明度动画"></a>透明度动画</h4><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>fromAlpha</td>
<td>起始透明度（0.0表示完全透明，1.0表示完全不透明）</td>
</tr>
<tr>
<td>toAlpha</td>
<td>结束透明度</td>
</tr>
<tr>
<td>duration</td>
<td>动画时长</td>
</tr>
</tbody></table>
<h3 id="基本方法-3"><a href="#基本方法-3" class="headerlink" title="基本方法"></a>基本方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>start()</td>
<td>开始执行动画</td>
</tr>
<tr>
<td>setRepeatMode(int repeatMode)</td>
<td>设置动画的重复模式</td>
</tr>
<tr>
<td>setRepeatCount(int repeatCount)</td>
<td>设置动画的重复次数</td>
</tr>
<tr>
<td>setFillEnabled(boolean fillEnabled)</td>
<td>设置是否保持动画结束时的状态</td>
</tr>
<tr>
<td>setDuration(int duration)</td>
<td>设置动画的持续时间，单位为毫秒</td>
</tr>
<tr>
<td>setInterpolator(Interpolator interpolator)</td>
<td>设置动画的插值器</td>
</tr>
</tbody></table>
<h3 id="案例-16"><a href="#案例-16" class="headerlink" title="案例"></a>案例</h3><p>动画xml文件如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">set</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">alpha</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:fromAlpha</span>=<span class="hljs-string">&quot;0&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:toAlpha</span>=<span class="hljs-string">&quot;1&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:duration</span>=<span class="hljs-string">&quot;2000&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">rotate</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:fromDegrees</span>=<span class="hljs-string">&quot;0&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:toDegrees</span>=<span class="hljs-string">&quot;360&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:pivotX</span>=<span class="hljs-string">&quot;50%&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:pivotY</span>=<span class="hljs-string">&quot;50%&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:duration</span>=<span class="hljs-string">&quot;2000&quot;</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scale</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:fromXScale</span>=<span class="hljs-string">&quot;0&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:fromYScale</span>=<span class="hljs-string">&quot;0&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:toXScale</span>=<span class="hljs-string">&quot;1&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:toYScale</span>=<span class="hljs-string">&quot;1&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:pivotY</span>=<span class="hljs-string">&quot;50%&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:pivotX</span>=<span class="hljs-string">&quot;50%&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:duration</span>=<span class="hljs-string">&quot;2000&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">translate</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:fromXDelta</span>=<span class="hljs-string">&quot;0&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:fromYDelta</span>=<span class="hljs-string">&quot;0&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:toXDelta</span>=<span class="hljs-string">&quot;400&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:toYDelta</span>=<span class="hljs-string">&quot;400&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:duration</span>=<span class="hljs-string">&quot;2000&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>加载并启动该动画</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//通过id找到使用动画的控件</span><br><span class="hljs-type">ImageView</span> <span class="hljs-variable">imageview</span> <span class="hljs-operator">=</span> findViewById(R.id.imageV);<br><span class="hljs-comment">//加载动画的xml文件</span><br><span class="hljs-type">Animation</span> <span class="hljs-variable">animation</span> <span class="hljs-operator">=</span> AnimationUtils.loadAnimation(<span class="hljs-built_in">this</span>, R.anim.bujian);<br><span class="hljs-comment">//通过使用该动画的控件来启动动画</span><br>imageview.startAnimation(animation);<br></code></pre></td></tr></table></figure>



<h2 id="4-3-属性动画"><a href="#4-3-属性动画" class="headerlink" title="4.3 属性动画"></a>4.3 属性动画</h2><p>属性动画（Property Animation）是一种可以改变<strong>任意对象</strong>的属性值，并实现平滑动画效果的机制。这个过程是通过插值器和估值器来计算中间属性值的。插值器控制动画的时间进度，估值器则根据时间进度计算出中间的属性值。</p>
<h3 id="基本方法-4"><a href="#基本方法-4" class="headerlink" title="基本方法"></a>基本方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>ObjectAnimator.ofXXX(target, propertyName, values, …)</td>
<td>创建一个针对指定目标对象、属性名和起始值&#x2F;结束值的属性动画</td>
</tr>
</tbody></table>
<p>其他方法同补间动画的方法一样。</p>
<h3 id="案例-17"><a href="#案例-17" class="headerlink" title="案例"></a>案例</h3><p>两种方法设置透明度</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>    setContentView(R.layout.activity_main);<br><br>    <span class="hljs-type">TextView</span> <span class="hljs-variable">textView</span> <span class="hljs-operator">=</span> findViewById(R.id.tv);<br>	<span class="hljs-comment">//方法一</span><br>    <span class="hljs-type">ValueAnimator</span> <span class="hljs-variable">valueAnimator</span> <span class="hljs-operator">=</span> ValueAnimator.ofFloat(<span class="hljs-number">0f</span>, <span class="hljs-number">1f</span>);<br>    valueAnimator.setDuration(<span class="hljs-number">4000</span>);<br>    <span class="hljs-comment">//添加动画数值更新监听器</span><br>    valueAnimator.addUpdateListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ValueAnimator</span>.AnimatorUpdateListener() &#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAnimationUpdate</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> ValueAnimator valueAnimator)</span> &#123;<br>            <span class="hljs-type">float</span> <span class="hljs-variable">animatedValue</span> <span class="hljs-operator">=</span> (<span class="hljs-type">float</span>) valueAnimator.getAnimatedValue();<br>            Log.d(<span class="hljs-string">&quot;leo&quot;</span>, <span class="hljs-string">&quot;onAnimationUpdate: &quot;</span> + animatedValue);<br>            <span class="hljs-comment">//根据动画数值修改控件的透明度</span><br>            textView.setAlpha(animatedValue);<br>        &#125;<br>    &#125;);<br>    valueAnimator.start();<br>	<span class="hljs-comment">//方法二</span><br>    <span class="hljs-comment">//        ObjectAnimator alpha = ObjectAnimator.ofFloat(textView, &quot;alpha&quot;, 0f, 1f);</span><br>    <span class="hljs-comment">//        alpha.setDuration(4000);</span><br>    <span class="hljs-comment">//        alpha.start();</span><br>&#125;<br></code></pre></td></tr></table></figure>


                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Android/" class="category-chain-item">Android</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Android%E5%BC%80%E5%8F%91/">#Android开发</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Android开发学习笔记(二) —— 了解UI控件</div>
      <div>http://example.com/2023/08/12/Android安全/Android开发学习笔记(二) —— 了解UI控件/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>gla2xy</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年8月12日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/08/12/Android%E5%AE%89%E5%85%A8/Android%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(%E4%B8%89)%20%E2%80%94%E2%80%94%20%E6%8E%A2%E7%A9%B6Fragment/" title="Android开发学习笔记(三) —— 探究Fragment">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Android开发学习笔记(三) —— 探究Fragment</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/08/12/Android%E5%AE%89%E5%85%A8/Android%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(%E4%B8%80)%20%E2%80%94%E2%80%94%20%E5%88%86%E6%9E%90Android%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/" title="Android开发学习笔记(一) —— 分析Android项目结构">
                        <span class="hidden-mobile">Android开发学习笔记(一) —— 分析Android项目结构</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.1/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
